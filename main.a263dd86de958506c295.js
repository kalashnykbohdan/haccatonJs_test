(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"8TmD":function(e,t){window.renderFilms=[],window.genres=[],window.pageNumber=1,window.inputVaue="",window.selectFilm={}},"8hDD":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){return'                    <li class="detailPage_movie_tag_genre_list_item">'+e.escapeExpression(e.lambda(t,t))+",</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o,i,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,s="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="detailPage_wrapper">\r\n    <img src="https://image.tmdb.org/t/p/w500'+u(typeof(i=null!=(i=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?i:c)===s?i.call(r,{name:"poster_path",hash:{},data:l,loc:{start:{line:2,column:45},end:{line:2,column:60}}}):i)+'" alt='+u(typeof(i=null!=(i=d(n,"title")||(null!=t?d(t,"title"):t))?i:c)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:2,column:66},end:{line:2,column:75}}}):i)+' class="detailPage_img" />\r\n    <div class="detailPage_description_wrapper">\r\n        <h3 class="detailPage_h3">'+u(typeof(i=null!=(i=d(n,"title")||(null!=t?d(t,"title"):t))?i:c)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:4,column:34},end:{line:4,column:43}}}):i)+" ("+u(typeof(i=null!=(i=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?i:c)===s?i.call(r,{name:"release_date",hash:{},data:l,loc:{start:{line:4,column:45},end:{line:4,column:61}}}):i)+')</h3>\r\n        <ul class="detailPage_movie_tags">\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">vote / votes</span>\r\n                <span>'+u(typeof(i=null!=(i=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?i:c)===s?i.call(r,{name:"vote_average",hash:{},data:l,loc:{start:{line:8,column:22},end:{line:8,column:38}}}):i)+" / "+u(typeof(i=null!=(i=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?i:c)===s?i.call(r,{name:"vote_count",hash:{},data:l,loc:{start:{line:8,column:41},end:{line:8,column:55}}}):i)+'</span>\r\n            </li>\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">popularity</span>\r\n                <span>'+u(typeof(i=null!=(i=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?i:c)===s?i.call(r,{name:"popularity",hash:{},data:l,loc:{start:{line:12,column:22},end:{line:12,column:36}}}):i)+'</span>\r\n            </li>\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">original title</span>\r\n                <span>'+u(typeof(i=null!=(i=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?i:c)===s?i.call(r,{name:"original_title",hash:{},data:l,loc:{start:{line:16,column:22},end:{line:16,column:40}}}):i)+'</span>\r\n            </li>\r\n            <li class="detailPage_movie_tag">\r\n                <span class="detailPage_movie_tag_name">genre</span>\r\n                <ul class="detailPage_movie_tag_genre_list">\r\n'+(null!=(o=d(n,"each").call(r,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:21,column:20},end:{line:23,column:29}}}))?o:"")+'                </ul>\r\n            </li>\r\n        </ul>\r\n        <h3 class="detailPage_h3">About</h3>\r\n        <p class="detailPage_overview">'+u(typeof(i=null!=(i=d(n,"overview")||(null!=t?d(t,"overview"):t))?i:c)===s?i.call(r,{name:"overview",hash:{},data:l,loc:{start:{line:28,column:39},end:{line:28,column:51}}}):i)+'</p>\r\n        <div class="detailPage_button_block_wrapper">\r\n            <button type="button" id="button_watched" class="detailPage_img_btn">\r\n            </button>\r\n            <button type="button" id="button_queue" class="detailPage_img_btn">\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>'},useData:!0})},BNZ9:function(e,t,n){},JZ7u:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="card__container">\r\n    <div class="card__mark">'+s(typeof(o=null!=(o=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?o:r)===c?o.call(i,{name:"vote_average",hash:{},data:l,loc:{start:{line:3,column:28},end:{line:3,column:44}}}):o)+'</div>\r\n    <div class="card__title">'+s(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:r)===c?o.call(i,{name:"title",hash:{},data:l,loc:{start:{line:4,column:29},end:{line:4,column:38}}}):o)+'</div>\r\n    <img class="card__img"  src="https://image.tmdb.org/t/p/w500/'+s(typeof(o=null!=(o=u(n,"backdrop_path")||(null!=t?u(t,"backdrop_path"):t))?o:r)===c?o.call(i,{name:"backdrop_path",hash:{},data:l,loc:{start:{line:5,column:65},end:{line:5,column:82}}}):o)+'" \r\n    alt="'+s(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:r)===c?o.call(i,{name:"title",hash:{},data:l,loc:{start:{line:6,column:9},end:{line:6,column:18}}}):o)+'" data-id="'+s(typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:r)===c?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:6,column:29},end:{line:6,column:37}}}):o)+'">\r\n    </li>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o;return(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?o:"")+"\r\n"},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("/YXa"),n("JBxO"),n("Muwe"),n("WoWj"),n("X5mX"),n("U00V"),n("9DLp"),n("BNZ9"),n("yjly"),n("8TmD");var a=function(e){var t=(console.log("view"),'\n\n      <div class="search-wrapper">\n        <form id="search-form" class="form_search">\n          <input\n            type="text"\n            name="query"\n            autocomplete="off"\n            placeholder="Write movie name and click"\n            class="input_search"\n          />\n          <button type="submit" class="button_search"><i class="material-icons">search</i></button>\n        </form>\n      </div>\n\n      <div>\n        <ul class="cards__container" id="films-gallery"></ul>\n      </div>\n\n      <div class="pagination">\n        <button tupe="button" data-action="load-more" class="load-more-Btn">Next page</button> \n      </div>\n\n    \n    ');e.insertAdjacentHTML("beforeend",t)},l=(n("lmye"),n("FdtR"),"https://api.themoviedb.org/3/"),o="60413e4c0935df0adbee558138220381",i={page:1,query:"",fetchPopularMoviesList:function(){var e=this;return fetch("https://api.themoviedb.org/3/movie/popular?api_key=60413e4c0935df0adbee558138220381&language=en-US&page="+this.page).then((function(e){return e.json()})).then((function(e){return e.results})).then((function(t){return e.incrementPage(),console.log(t),t}))},fetchGenres:function(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=60413e4c0935df0adbee558138220381&language=en-US").then((function(e){return e.json()})).then((function(e){return e.genres})).then((function(e){e.map((function(e){genres.push(e)}))}))},fetchFilms:function(){var e=this;return fetch(l+"search/movie?api_key="+o+"&language=en-US&query="+this.query+"&page="+this.page+"&include_adult=false").then((function(e){return e.json()})).then((function(t){return e.incrementPage(),console.log(t.results),t.results}))},get searchQuery(){return this.query},set searchQuery(e){this.query=e},incrementPage:function(){this.page+=1},resetPage:function(){this.page=1},fetchMovieDetails:function(e){return fetch(l+"movie/"+e+"?api_key="+o).then((function(e){return e.json()}))}},r=document.createDocumentFragment();function c(e){var t=e.backdrop_path,n=e.title,a=e.id,l=e.vote_average,o=document.querySelector(".cards__container"),i=document.createElement("a");i.href="/details?filmId="+a;var r=document.createElement("li");r.className="card__container";var c=document.createElement("div");c.className="card__mark",c.innerHTML=0!==l?l:"--";var s=document.createElement("div");s.className="card__title",s.innerHTML=n;var u=document.createElement("img");u.className="card__img";var d=null!==t?"https://image.tmdb.org/t/p/w500/"+t:"https://image.tmdb.org/t/p/w500//gkuyOdCeuKLdOlwQIUF44SHsYCq.jpg";return u.setAttribute("src",d),u.setAttribute("alt",n),r.append(c,s,u),i.append(r),o.appendChild(i),i}function s(){var e=document.querySelector(".cards__container");i.fetchPopularMoviesList().then((function(t){t.map((function(e){renderFilms.push(e),c(e),r.append(c(e))})),e.innerHTML="",e.append(r)})),i.fetchGenres()}n("JZ7u");var u=function(){document.querySelector("#search-form").addEventListener("submit",m),document.querySelector('button[data-action="load-more"]').addEventListener("click",p)};function d(e){var t=e.backdrop_path,n=e.title,a=e.id,l=e.vote_average,o=document.querySelector(".cards__container"),i=document.createElement("a");i.href="/details?filmId="+a;var r=document.createElement("li");r.className="card__container";var c=document.createElement("div");c.className="card__mark",c.innerHTML=0!==l?l:"--";var s=document.createElement("div");s.className="card__title",s.innerHTML=n;var u=document.createElement("img");u.className="card__img";var d=null!==t?"https://image.tmdb.org/t/p/w500/"+t:"https://image.tmdb.org/t/p/w500//gkuyOdCeuKLdOlwQIUF44SHsYCq.jpg";return u.setAttribute("src",d),u.setAttribute("alt",n),r.append(c,s,u),i.append(r),o.appendChild(i),i}function m(e){e.preventDefault();var t=e.currentTarget.elements.query.value;console.log(t),document.querySelector("#films-gallery").innerHTML="",i.resetPage(),i.searchQuery=t,i.fetchFilms().then(console.log());var n=document.querySelector(".cards__container"),a=document.createDocumentFragment();i.fetchFilms().then((function(e){e.map((function(e){renderFilms.push(e),d(e),a.append(d(e))})),n.innerHTML="",n.append(a)}))}function p(){var e=document.querySelector(".cards__container"),t=document.createDocumentFragment();i.fetchFilms().then((function(n){n.map((function(e){renderFilms.push(e),d(e),t.append(d(e))})),e.innerHTML="",e.append(t)}))}n("wCa+");var h=function(e){!function(e){i.fetchMovieDetails(e).then((function(e){return Object.assign(selectFilm,e)})),i.fetchGenres((function(e){return e.map((function(e){return genres.push(e)}))})),console.log(selectFilm)}(e)};n("hi3g"),n("lYjL"),n("IvQZ"),n("4NM0");var v=n("8hDD"),g=n.n(v),_=function(e){!function(e){console.log("setSelectFilm"),i.fetchMovieDetails(e).then(f),f(selectFilm)}(e),window.onload=function(){t(),document.querySelector("#button_watched").addEventListener("click",n),document.querySelector("#button_queue").addEventListener("click",a)};var t=function(){var e=document.querySelector("#button_watched"),t=document.querySelector("#button_queue"),n=JSON.parse(localStorage.getItem("filmsWatched"))||[],a=JSON.parse(localStorage.getItem("filmsQueue"))||[],l=n.includes(selectFilm.id),o=a.includes(selectFilm.id);l?(e.textContent="Remove from viewed",e.classList.remove("detailPage_video_on"),e.classList.add("detailPage_video_off")):(e.textContent="Add to viewed",e.classList.remove("detailPage_video_off"),e.classList.add("detailPage_video_on")),o?(t.textContent="Remove from queue",t.classList.remove("detailPage_calendar_plus"),t.classList.add("detailPage_calendar_minus")):(t.textContent="Add to queue",t.classList.remove("detailPage_calendar_minus"),t.classList.add("detailPage_calendar_plus"))},n=function(){var e=JSON.parse(localStorage.getItem("filmsWatched"))||[],n=e.includes(selectFilm.id)?e.filter((function(e){return e!==selectFilm.id})):[].concat(e,[selectFilm.id]);localStorage.setItem("filmsWatched",JSON.stringify(n)),t()},a=function(){var e=JSON.parse(localStorage.getItem("filmsQueue"))||[],n=e.includes(selectFilm.id)?e.filter((function(e){return e!==selectFilm.id})):[].concat(e,[selectFilm.id]);localStorage.setItem("filmsQueue",JSON.stringify(n)),t()}};function f(e){var t,n,a=(t=e,console.log("bildDetailsPage"),console.log(t),console.log(genres),g()(t));n=a,document.querySelector("#detailsPage").innerHTML=n}n("8cZI"),document.querySelector("#mylib-home"),document.querySelector(".home__list-item"),document.querySelector("#watched-button"),document.querySelector("#queue-button");var b=function(){console.log("swichmyListLibrary"),document.querySelector("#watched-button").addEventListener("click",w),document.querySelector("#queue-button").addEventListener("click",y),y()};function y(){console.log("queueBtnHandler"),function(){var e=document.querySelector("#watched-button"),t=document.querySelector("#queue-button"),n=document.querySelector("#mylib-home");document.querySelector(".home__list-item");e.classList.remove("active-nav-button"),t.classList.add("active-nav-button");var a=JSON.parse(localStorage.getItem("filmsQueue"));if(console.log(a),null===a||0===a.length)return n.insertAdjacentHTML("beforeend",'<div class="no-list">\n            <h2 class="no-list__item">You do not have to queue movies to watch. Add them.</h2>\n              </div>');var l=a.map((function(e){i.fetchMovieDetails(e).then(S),console.log(e)})).join("");n.innerHTML="",n.insertAdjacentHTML("beforeend",l)}()}function w(){console.log("watchedBtnHandler"),function(){var e=document.querySelector("#watched-button"),t=document.querySelector("#queue-button"),n=document.querySelector("#mylib-home");document.querySelector(".home__list-item");t.classList.remove("active-nav-button"),e.classList.add("active-nav-button");var a=JSON.parse(localStorage.getItem("filmsWatched"));if(null===a||0===a.length)return n.insertAdjacentHTML("beforeend",'<div class="no-list"\n            <h2 class="no-list__item">You do not have watched movies. Add them.</h2>\n              </div>');var l=a.map((function(e){i.fetchMovieDetails(e).then(S),console.log(e)})).join("");n.innerHTML="",n.insertAdjacentHTML("beforeend",l)}()}function S(e){var t=e.backdrop_path,n=e.title,a=e.id,l=e.vote_average,o=document.querySelector("#mylib-home"),i=document.createElement("a");i.href="/details?filmId="+a;var r=document.createElement("li");r.className="card__container";var c=document.createElement("div");c.className="card__mark",c.innerHTML=0!==l?l:"--";var s=document.createElement("div");s.className="card__title",s.innerHTML=n;var u=document.createElement("img");u.className="card__img";var d=null!==t?"https://image.tmdb.org/t/p/w500/"+t:"https://image.tmdb.org/t/p/w500//gkuyOdCeuKLdOlwQIUF44SHsYCq.jpg";return u.setAttribute("src",d),u.setAttribute("alt",n),r.append(c,s,u),i.append(r),o.appendChild(i),i}console.log(location.pathname),function(){var e,t=document.getElementById("root"),n=location.pathname,l=location.search;switch(n){case"/":a(t),e=document.querySelector(".cards__container"),i.fetchPopularMoviesList().then((function(t){t.map((function(e){renderFilms.push(e),c(e),r.append(c(e))})),e.innerHTML="",e.append(r)})),i.fetchGenres(),document.querySelector('button[data-action="load-more"]').addEventListener("click",s),u(),console.log("HomePage"),console.log(t);break;case"/details":!function(e){e.insertAdjacentHTML("beforeend",'\n    <div class="detailsPage__wrapper">\n        <div id="detailsPage"></div>\n    </div>\n    ')}(t);var o=new URLSearchParams(l).get("filmId");console.log(o),h(o),_(o);break;case"/library":!function(e){console.log("insertAdjacentHTML");e.insertAdjacentHTML("beforeend",'\n    <div class="libraryBox">\n    <nav class="libnav">\n      <div class="libnav__list">\n        <button type="button" id="watched-button" data-action="watched-button" class="libnav__button">\n          Watched\n        </button>\n        <button type="button" id="queue-button" data-action="queue-button" class="libnav__button">\n          Queue\n        </button>\n      </div>\n    </nav>\n    <ul id="mylib-home" class="home__list"></ul>\n  </div>\n    ')}(t),console.log("library"),console.log(t),b()}}()},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.a263dd86de958506c295.js.map